var devowlWp_realProductManagerWpClient;!function(){"use strict";var e,t={3627:function(e,t,n){n.r(t),n.d(t,{Avatar:function(){return c.C},CLICK_HANDLER_PLUGIN_UPDATE_MODAL_ATTRIBUTE:function(){return Xe},Card:function(){return u.Z},FeedbackModal:function(){return Le},Form:function(){return p.Z},HASH_HANDLER_PLUGIN_UPDATE_MODAL_PREFIX:function(){return qe},LearnMoreTag:function(){return $e},OptionStore:function(){return R},PLUGIN_UPDATE_FORM_LAYOUT:function(){return Qe},PLUGIN_UPDATE_FORM_LAYOUT_MARGIN_BOTTOM:function(){return et},PluginUpdateEmbed:function(){return st},PluginUpdateForm:function(){return tt},PluginUpdateLicenseList:function(){return lt},PluginUpdateModal:function(){return ot},PluginUpdateStore:function(){return be},PluginUpdateTermFields:function(){return Ge},Provider:function(){return Ze},RootStore:function(){return ye},Space:function(){return d.Z},listenHashPluginUpdate:function(){return We},listenPluginDeactivation:function(){return Me},listenPluginUpdateLinkClick:function(){return Ke},locationRestAnnouncementActive:function(){return S},locationRestLicenseDelete:function(){return he},locationRestLicenseRetry:function(){return me},locationRestPluginFeedbackPost:function(){return Ce},locationRestPluginUpdateGet:function(){return ve},locationRestPluginUpdatePatch:function(){return O},locationRestPluginUpdateSkipPost:function(){return N},useStores:function(){return Ee}});var r,a,i,l=n(1533),o=n(3371),s=n(5481),c=n(1241),u=n(1050),p=n(1984),d=n(2491),m=n(4741),h=n(6762),f=n(3340),g=n(7821),v=devowlWp_utils,b=n(6724),y=n(5558),w=n(3841),E=n(5952),Z=n(9303),R=(r=function(e){(0,w.Z)(n,e);var t=(0,E.Z)(n);function n(e){var r;return(0,h.Z)(this,n),r=t.call(this),(0,b.Z)(r,"others",a,(0,y.Z)(r)),r.pureSlug=void 0,r.pureSlugCamelCased=void 0,r.rootStore=void 0,r.rootStore=e,r.pureSlug=v.BaseOptions.getPureSlug({NODE_ENV:"production",env:"production",rootSlug:"devowl-wp",slug:"real-product-manager-wp-client",ANTD_PREFIX:"rpm-wpc-antd"}),r.pureSlugCamelCased=v.BaseOptions.getPureSlug({NODE_ENV:"production",env:"production",rootSlug:"devowl-wp",slug:"real-product-manager-wp-client",ANTD_PREFIX:"rpm-wpc-antd"},!0),(0,g.runInAction)((function(){return Object.assign((0,y.Z)(r),window[r.pureSlugCamelCased])})),r}return n}(v.BaseOptions),a=(0,Z.Z)(r.prototype,"others",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r),k=n(5450),P=n.n(k),U=n(4115),S={path:"/announcement/:slug/active",method:v.RouteHttpVerb.POST},O={path:"/plugin-update/:slug",method:v.RouteHttpVerb.PATCH},N={path:"/plugin-update/:slug/skip",method:v.RouteHttpVerb.POST};function I(){return i||(i=(0,v.createRequestFactory)(window[v.BaseOptions.getPureSlug({NODE_ENV:"production",env:"production",rootSlug:"devowl-wp",slug:"real-product-manager-wp-client",ANTD_PREFIX:"rpm-wpc-antd"},!0)]))}var x,T,_,A,F,C,D,z,L,M,X,K,q,W,V,B,j,H,G,J,Y,$,Q,ee,te,ne,re,ae,ie,le,oe,se,ce,ue,pe,de=function(){var e;return(e=I()).request.apply(e,arguments)},me={path:"/plugin-update/:slug/license/:blogId/retry",method:v.RouteHttpVerb.POST},he={path:"/plugin-update/:slug/license/:blogId",method:v.RouteHttpVerb.DELETE},fe=(x=function e(t,n){var r=this;(0,h.Z)(this,e),(0,b.Z)(this,"busy",T,this),(0,b.Z)(this,"blog",_,this),(0,b.Z)(this,"host",A,this),(0,b.Z)(this,"programmatically",F,this),(0,b.Z)(this,"blogName",C,this),(0,b.Z)(this,"installationType",D,this),(0,b.Z)(this,"code",z,this),(0,b.Z)(this,"hint",L,this),(0,b.Z)(this,"remote",M,this),(0,b.Z)(this,"noUsage",X,this),this.store=void 0,this.retry=(0,g.flow)(P().mark((function e(){var t;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.busy=!0,e.prev=1,e.next=4,de({location:me,params:{slug:this.store.slug,blogId:this.blog}});case 4:t=e.sent,(0,g.set)(this,t),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(1),console.log(e.t0),e.t0;case 12:return e.prev=12,this.busy=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[1,8,12,15]])}))),this.deactivate=(0,g.flow)(P().mark((function e(){var t;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.busy=!0,e.prev=1,e.next=4,de({location:he,params:{slug:this.store.slug,blogId:this.blog}});case 4:t=e.sent,(0,g.set)(this,t),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(1),console.log(e.t0),e.t0;case 12:return e.prev=12,this.busy=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[1,8,12,15]])}))),(0,g.runInAction)((function(){return(0,g.set)(r,t)})),this.store=n},T=(0,Z.Z)(x.prototype,"busy",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=(0,Z.Z)(x.prototype,"blog",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,Z.Z)(x.prototype,"host",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,Z.Z)(x.prototype,"programmatically",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,Z.Z)(x.prototype,"blogName",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,Z.Z)(x.prototype,"installationType",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=(0,Z.Z)(x.prototype,"code",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,Z.Z)(x.prototype,"hint",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,Z.Z)(x.prototype,"remote",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=(0,Z.Z)(x.prototype,"noUsage",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x),ge=(K=function(){function e(t,n){(0,h.Z)(this,e),(0,b.Z)(this,"busy",q,this),(0,b.Z)(this,"slug",W,this),(0,b.Z)(this,"licenses",V,this),(0,b.Z)(this,"hasInteractedWithFormOnce",B,this),(0,b.Z)(this,"name",j,this),(0,b.Z)(this,"needsLicenseKeys",H,this),(0,b.Z)(this,"announcementsActive",G,this),(0,b.Z)(this,"allowsAutoUpdates",J,this),(0,b.Z)(this,"allowsTelemetry",Y,this),(0,b.Z)(this,"allowsNewsletter",$,this),(0,b.Z)(this,"potentialNewsletterUser",Q,this),(0,b.Z)(this,"privacyProvider",ee,this),(0,b.Z)(this,"privacyPolicy",te,this),(0,b.Z)(this,"accountSiteUrl",ne,this),(0,b.Z)(this,"licenseKeyHelpUrl",re,this),(0,b.Z)(this,"checkUpdateLink",ae,this),(0,b.Z)(this,"invalidKeysError",ie,this),(0,b.Z)(this,"showBlogName",le,this),(0,b.Z)(this,"showNetworkWideUpdateIssueNotice",oe,this),this.store=void 0,this.setAnnouncementActive=(0,g.flow)(P().mark((function e(t){var n;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.busy=!0,e.prev=1,e.next=4,de({location:S,params:{slug:this.slug},request:{state:t}});case 4:return(n=e.sent).success&&(this.announcementsActive=t),e.abrupt("return",n.success);case 9:throw e.prev=9,e.t0=e.catch(1),console.log(e.t0),e.t0;case 13:return e.prev=13,this.busy=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[1,9,13,16]])}))),this.update=(0,g.flow)(P().mark((function e(t){var n,r,a;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.busy=!0,this.invalidKeysError=void 0,e.prev=2,e.next=5,de({location:O,params:{slug:this.slug},request:t});case 5:n=e.sent,this.fromResponse(n),e.next=14;break;case 9:throw e.prev=9,e.t0=e.catch(2),console.log(e.t0),null!==(r=e.t0.responseJSON)&&void 0!==r&&null!==(a=r.data)&&void 0!==a&&a.invalidKeys&&(this.invalidKeysError=e.t0.responseJSON.data.invalidKeys),e.t0;case 14:return e.prev=14,this.busy=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[2,9,14,17]])}))),this.skip=(0,g.flow)(P().mark((function e(){var t,n;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.busy=!0,e.prev=1,e.next=4,de({location:N,params:{slug:this.slug}});case 4:e.next=11;break;case 6:throw e.prev=6,e.t0=e.catch(1),console.log(e.t0),null!==(t=e.t0.responseJSON)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.invalidKeys&&(this.invalidKeysError=e.t0.responseJSON.data.invalidKeysError),e.t0;case 11:return e.prev=11,this.busy=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[1,6,11,14]])}))),this.fromResponse(t),this.store=n}return(0,f.Z)(e,[{key:"licensedEntries",get:function(){return this.licenses.filter((function(e){return e.code}))}},{key:"unlicensedEntries",get:function(){return this.licenses.filter((function(e){return!e.code}))}},{key:"noUsageEntries",get:function(){return this.unlicensedEntries.filter((function(e){return e.noUsage}))}},{key:"modifiableEntries",get:function(){return this.unlicensedEntries.filter((function(e){return!e.programmatically}))}},{key:"isLicensed",get:function(){return 0===this.unlicensedEntries.length}},{key:"fromResponse",value:function(e){var t=this,n=e.licenses,r=(0,U.Z)(e,["licenses"]);(0,g.set)(this,r),this.licenses=[],null==n||n.forEach((function(e){t.licenses.push(new fe(e,t))}))}}]),e}(),q=(0,Z.Z)(K.prototype,"busy",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=(0,Z.Z)(K.prototype,"slug",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=(0,Z.Z)(K.prototype,"licenses",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=(0,Z.Z)(K.prototype,"hasInteractedWithFormOnce",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,Z.Z)(K.prototype,"name",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=(0,Z.Z)(K.prototype,"needsLicenseKeys",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=(0,Z.Z)(K.prototype,"announcementsActive",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=(0,Z.Z)(K.prototype,"allowsAutoUpdates",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=(0,Z.Z)(K.prototype,"allowsTelemetry",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=(0,Z.Z)(K.prototype,"allowsNewsletter",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=(0,Z.Z)(K.prototype,"potentialNewsletterUser",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=(0,Z.Z)(K.prototype,"privacyProvider",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=(0,Z.Z)(K.prototype,"privacyPolicy",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=(0,Z.Z)(K.prototype,"accountSiteUrl",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=(0,Z.Z)(K.prototype,"licenseKeyHelpUrl",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=(0,Z.Z)(K.prototype,"checkUpdateLink",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=(0,Z.Z)(K.prototype,"invalidKeysError",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=(0,Z.Z)(K.prototype,"showBlogName",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oe=(0,Z.Z)(K.prototype,"showNetworkWideUpdateIssueNotice",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,Z.Z)(K.prototype,"licensedEntries",[g.computed],Object.getOwnPropertyDescriptor(K.prototype,"licensedEntries"),K.prototype),(0,Z.Z)(K.prototype,"unlicensedEntries",[g.computed],Object.getOwnPropertyDescriptor(K.prototype,"unlicensedEntries"),K.prototype),(0,Z.Z)(K.prototype,"noUsageEntries",[g.computed],Object.getOwnPropertyDescriptor(K.prototype,"noUsageEntries"),K.prototype),(0,Z.Z)(K.prototype,"modifiableEntries",[g.computed],Object.getOwnPropertyDescriptor(K.prototype,"modifiableEntries"),K.prototype),(0,Z.Z)(K.prototype,"isLicensed",[g.computed],Object.getOwnPropertyDescriptor(K.prototype,"isLicensed"),K.prototype),(0,Z.Z)(K.prototype,"fromResponse",[g.action],Object.getOwnPropertyDescriptor(K.prototype,"fromResponse"),K.prototype),K),ve={path:"/plugin-update/:slug",method:v.RouteHttpVerb.GET},be=(se=function(){function e(t){(0,h.Z)(this,e),(0,b.Z)(this,"busy",ce,this),(0,b.Z)(this,"modalPlugin",ue,this),(0,b.Z)(this,"pluginUpdates",pe,this),this.rootStore=void 0,this.showInModal=(0,g.flow)(P().mark((function e(t){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.modalPlugin=t,e.prev=1,e.next=4,this.fetchPluginUpdate(t);case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),console.log(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,this,[[1,6]])}))),this.fetchPluginUpdate=(0,g.flow)(P().mark((function e(t){var n,r;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.busy=!0,e.prev=1,e.next=4,de({location:ve,params:{slug:t}});case 4:return n=e.sent,r=new ge(n,this),this.pluginUpdates.set(t,r),e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(1),console.log(e.t0),e.t0;case 14:return e.prev=14,this.busy=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,10,14,17]])}))),this.rootStore=t}return(0,f.Z)(e,[{key:"hideModal",value:function(){this.modalPlugin=void 0}}]),e}(),ce=(0,Z.Z)(se.prototype,"busy",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ue=(0,Z.Z)(se.prototype,"modalPlugin",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=(0,Z.Z)(se.prototype,"pluginUpdates",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),(0,Z.Z)(se.prototype,"hideModal",[g.action],Object.getOwnPropertyDescriptor(se.prototype,"hideModal"),se.prototype),se);(0,g.configure)({enforceActions:"always"});var ye=function(){function e(){(0,h.Z)(this,e),this.optionStore=void 0,this.pluginUpdateStore=void 0,this.contextMemo=void 0,this.optionStore=new R(this),this.pluginUpdateStore=new be(this)}return(0,f.Z)(e,[{key:"context",get:function(){return this.contextMemo?this.contextMemo:this.contextMemo=(0,v.createContextFactory)(this)}}],[{key:"StoreProvider",get:function(){return e.get.context.StoreProvider}},{key:"get",get:function(){return e.me?e.me:e.me=new e}}]),e}();ye.me=void 0;var we,Ee=function(){return ye.get.context.useStores()},Ze=function(e){var t=e.children;return React.createElement(o.ZP,{prefixCls:"rpm-wpc-antd"},React.createElement(ye.StoreProvider,null,t))},Re=n(7938),ke=n(7228),Pe=n(7363),Ue=n(2947),Se=n(5250),Oe=n(5744),Ne=n(2780),Ie=n(3158),xe=n(8911);function Te(){return we||(we=(0,v.createLocalizationFactory)("".concat("devowl-wp","-").concat("real-product-manager-wp-client")))}var _e=function(){var e;return(e=Te()).__.apply(e,arguments)},Ae=function(){var e;return(e=Te())._i.apply(e,arguments)},Fe=n(5056),Ce={path:"/feedback/:slug",method:v.RouteHttpVerb.POST},De={labelCol:{span:24},wrapperCol:{span:24}},ze={marginBottom:8},Le=function(e){var t=e.initialValues,n=void 0===t?{}:t,r=e.plugin,a=e.name,i=e.privacyPolicy,l=e.privacyProvider,o=e.onClose,c=e.onDeactivate,u=(0,Pe.useMemo)((function(){return{"upgrade-to-pro":_e("Upgrade to PRO Version"),"not-working":_e("Plugin does not work"),"missing-features":_e("Not the features I want"),incompatible:_e("Incompatible with themes/plugins"),"missing-doc":_e("Lack of documentation"),"found-better-plugin":_e("Found a better plugin"),temp:_e("Temporary deactivation"),other:_e("Other")}}),[]),d=p.Z.useForm(),h=(0,ke.Z)(d,1)[0],f="license-form-".concat(r),g=(0,Pe.useState)(!0),v=(0,ke.Z)(g,2),b=v[0],y=v[1],w=(0,Pe.useState)(!1),E=(0,ke.Z)(w,2),Z=E[0],R=E[1],k=(0,Pe.useCallback)((function(){window.confirm(_e("Are you sure you want to leave the feedback form?"))&&y(!1)}),[]),U=(0,Pe.useCallback)(function(){var e=(0,Re.Z)(P().mark((function e(t){var n,a,i,l,o,u,p,d,m,h,f,g,v,b,y,w,E,Z;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(n=t).reason,i=void 0===a?"other":a,l=n.note,o=void 0===l?"":l,u=n.email,p=void 0===u?"":u,d=n.name,m=void 0===d?"":d,e.prev=1,R(!0),e.next=5,de({location:Ce,params:{slug:r},request:{reason:i,note:o,email:p,name:p?m:""}});case 5:null==c||c(),e.next=18;break;case 8:if(e.prev=8,e.t0=e.catch(1),v=e.t0,b=v.responseJSON,y=null==b||null===(h=b.data)||void 0===h||null===(f=h.body)||void 0===f||null===(g=f[0])||void 0===g?void 0:g.code,!(["DeactivationFeedbackAlreadyGiven","DeactivationFeedbackMightBeSpam"].indexOf(y)>-1)&&y){e.next=17;break}return null==c||c(),e.abrupt("return");case 17:s.ZP.error(null==b||null===(w=b.data)||void 0===w||null===(E=w.body)||void 0===E||null===(Z=E[0])||void 0===Z?void 0:Z.message);case 18:return e.prev=18,R(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,8,18,21]])})));return function(t){return e.apply(this,arguments)}}(),[h,r]);return React.createElement(Ue.Z,{afterClose:o,onCancel:k,visible:b,footer:[React.createElement(Se.Z,{key:"skip",type:"default",onClick:c,className:"alignleft",disabled:Z},React.createElement("b",null,_e("Skip & Deactivate"))),React.createElement(Se.Z,{key:"submit",type:"primary",htmlType:"submit",form:f,disabled:Z},_e("Deactivate"))],title:React.createElement(React.Fragment,null,React.createElement(Fe.Z,{twoToneColor:"#eb2f96"})," ",_e("Too bad you are leaving"))},React.createElement(Oe.Z,{spinning:Z},React.createElement(p.Z,(0,m.Z)({name:f,id:f,form:h},De,{onFinish:U,initialValues:n}),React.createElement(p.Z.Item,{name:"reason",label:React.createElement(React.Fragment,null,_e("Please give us feedback why you deactivate %s.",a)),style:ze,required:!0,rules:[{required:!0,message:_e("Please provide a reason!")}]},React.createElement(Ne.ZP.Group,null,Object.keys(u).map((function(e){return React.createElement(Ne.ZP,{key:e,value:e,style:{width:"calc(50% - 8px)",float:"left"}},u[e])})))),React.createElement(p.Z.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.reason!==t.reason}},(function(e){return!!(0,e.getFieldValue)("reason")&&React.createElement(React.Fragment,null,React.createElement(p.Z.Item,{label:_e("What could we do better?"),name:"note",style:ze},React.createElement(Ie.Z.TextArea,{autoSize:{minRows:3}})),React.createElement(p.Z.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.answerTerms!==t.answerTerms}},(function(e){var t=e.getFieldValue;return!!t("reason")&&React.createElement(React.Fragment,null,React.createElement(p.Z.Item,{name:"email",label:_e("Email for answer/solution"),style:ze,rules:[{type:"email",required:t("answerTerms"),message:_e("Please provide a valid e-mail address!")}]},React.createElement(Ie.Z,null)),React.createElement(p.Z.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.email!==t.email}},(function(e){var t=e.getFieldValue;return React.createElement(React.Fragment,null,!!t("email")&&React.createElement(p.Z.Item,{name:"name",label:_e("Name"),required:!0,style:ze,rules:[{required:!0,message:_e("Please provide a name!")}]},React.createElement(Ie.Z,null)),React.createElement(p.Z.Item,{name:"answerTerms",valuePropName:"checked",required:!0,rules:[{type:"boolean",required:!!t("email"),transform:function(e){return e||void 0},message:_e("Please confirm that you have checked the privacy policy.")}],style:ze},React.createElement(xe.Z,{style:{zoom:.8}},Ae(_e("I would like to receive a response to my request. For this purpose, I agree to the data processing of my feedback and my e-mail address. I have read and acknowledge the %s {{a}}Privacy Policy{{/a}}.",l),{a:React.createElement("a",{href:i,target:"_blank",rel:"noreferrer"})}))))})))})))})),React.createElement(p.Z.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.note!==t.note||e.answerTerms!==t.answerTerms}},(function(e){var t=e.getFieldValue,n=t("answerTerms")||!1,r=t("note")||"";return n?null:r.split(" ").length>=5?React.createElement("div",{className:"notice notice-info inline below-h2 notice-alt",style:{margin:0}},React.createElement("p",null,_e("Allow us to reply to you by email and we will get back to you as soon as possible!"))):React.createElement("p",{className:"description",style:{marginTop:5}},Ae(_e("Are there any problems with the setup or use of the plugin? Maybe we can help you in the support. {{a}}Contact support{{/a}}."),{a:React.createElement("a",{href:_e("https://devowl.io/support/"),target:"_blank",rel:"noreferrer"})}))})))))};function Me(){document.addEventListener("click",(function(e){var t=ye.get.optionStore.others,n=t.names,r=t.currentUserFullName,a=null==e?void 0:e.target;for(var i in n){var o=n[i].plugin;if(a.matches('tr[data-plugin="'.concat(o,'"] a[href*="action=deactivate"]'))&&"break"===function(){var t=document.createElement("div");return document.body.appendChild(t),(0,l.render)(React.createElement(Ze,null,React.createElement(Le,(0,m.Z)({},n[i],{initialValues:{name:r},plugin:i,onClose:function(){(0,l.unmountComponentAtNode)(t)},onDeactivate:function(){window.location.href=a.href}}))),t),e.preventDefault(),e.stopImmediatePropagation(),"break"}())break}}),!0)}var Xe="data-rpm-wp-client-plugin-update";function Ke(){document.addEventListener("click",(function(e){var t,n=null===(t=e.target)||void 0===t?void 0:t.getAttribute(Xe);n&&(ye.get.pluginUpdateStore.showInModal(n),e.preventDefault())}))}var qe="rpm-wp-client-plugin-update-";function We(){var e=window.location.hash;if(e.startsWith("#".concat(qe))){var t=e.substr(qe.length+1);ye.get.pluginUpdateStore.showInModal(t),window.location.hash=""}}var Ve=n(3554),Be=n(2867),je=n(2711),He=n(8674),Ge=(0,Ve.Pi)((function(e){var t=e.pluginUpdate,n=t.privacyProvider,r=t.privacyPolicy,a=t.allowsTelemetry,i=t.allowsAutoUpdates,l=t.allowsNewsletter;return React.createElement(React.Fragment,null,i&&React.createElement(p.Z.Item,{name:"autoUpdates",valuePropName:"checked",style:et},React.createElement(xe.Z,{style:{zoom:.8}},Ae(_e("Updates containing bug fixes and new features will be downloaded and installed automatically."),{a:React.createElement("a",{href:r,target:"_blank",rel:"noreferrer"})}))),React.createElement(p.Z.Item,{name:"terms",valuePropName:"checked",required:!0,rules:[{type:"boolean",required:!0,transform:function(e){return e||void 0},message:_e("Please confirm that you have read the privacy policy!")}],style:et},React.createElement(xe.Z,{style:{zoom:.8}},Ae(_e("I allow to transfer technical data about this WordPress installation to the update server of %1$s and get latest announcements. This data is required for license activation and update functionality. I have read the {{a}}privacy policy{{/a}} of %1$s.",n),{a:React.createElement("a",{href:r,target:"_blank",rel:"noreferrer"})}))),a&&React.createElement(p.Z.Item,{name:"telemetry",valuePropName:"checked",style:et},React.createElement(xe.Z,{style:{zoom:.8}},Ae(_e("I allow telemetry data about the use of this WordPress plugin to be collected in accordance with the %1$s {{a}}privacy policy{{/a}}. This data does not include any personal information about users of the plugin. Collected data will be used to provide you with the best possible support and to improve the plugin.",n),{a:React.createElement("a",{href:r,target:"_blank",rel:"noreferrer"})}))),l&&React.createElement(p.Z.Item,{name:"newsletter",valuePropName:"checked",style:et},React.createElement(xe.Z,{style:{zoom:.8}},Ae(_e("I would like to receive the %1$s newsletter with WordPress news, sales and product offers (approx. 1-2 per month) by email. I have read the %1$s {{a}}privacy policy{{/a}}. I know that I can unsubscribe from the newsletter at any time.",n),{a:React.createElement("a",{href:r,target:"_blank",rel:"noreferrer"})}))),React.createElement(p.Z.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.newsletter!==t.newsletter}},(function(e){return(0,e.getFieldValue)("newsletter")&&React.createElement(React.Fragment,null,React.createElement(p.Z.Item,{label:_e("First name"),name:"firstName",style:et,required:!0,rules:[{required:!0,message:_e("Please enter your first name!")}]},React.createElement(Ie.Z,null)),React.createElement(p.Z.Item,{label:_e("Email"),name:"email",style:et,required:!0,rules:[{type:"email",required:!0,message:_e("Please enter your email address!")}]},React.createElement(Ie.Z,null)),React.createElement("div",{className:"notice notice-info inline below-h2 notice-alt",style:{margin:0}},React.createElement("p",null,_e("Please note that we will send you a confirmation e-mail. Only when you have clicked on the activation link in the email will you receive the newsletter."))))})))})),Je=n(2762),Ye=n(1294),$e=function(e){var t=e.url,n=e.style,r=void 0===n?void 0:n,a=e.label,i=void 0===a?_e("Learn more"):a,l=(0,je.Z)({cursor:"pointer"},r);return React.createElement(Je.Z,{style:l,onClick:function(){return window.open(t,"_blank")}},React.createElement(Ye.Z,null)," ",i)},Qe={labelCol:{span:24},wrapperCol:{span:24}},et={marginBottom:8},tt=(0,Ve.Pi)((function(e){var t=e.onSave,n=e.onFailure,r=e.footer,a=e.pluginUpdate,i=(0,Pe.useState)(!1),l=(0,ke.Z)(i,2),o=l[0],c=l[1],u=a.busy,d=a.slug,h=a.allowsAutoUpdates,f=a.needsLicenseKeys,g=a.licenses,v=a.unlicensedEntries,b=a.noUsageEntries,y=a.modifiableEntries,w=a.invalidKeysError,E=a.accountSiteUrl,Z=a.licenseKeyHelpUrl,R=a.name,k=a.potentialNewsletterUser,S=k.firstName,O=k.email,N=a.showBlogName,I=a.showNetworkWideUpdateIssueNotice,x=g.length>1,T={licenses:g.map((function(e){var t,n=e.blog,r=e.code,a=e.installationType,i=e.hint,l=e.noUsage;return{blog:n,code:r||(i?null===(t=i.help.match(/(\w{8}-\w{4}-\w{4}-\w{4}-\w{12})|(\w{32})/))||void 0===t?void 0:t[0]:"")||"",installationType:a||"",noUsage:l}})),autoUpdates:h,terms:!1,telemetry:!1,newsletter:!1,firstName:S,email:O},_=p.Z.useForm(),A=(0,ke.Z)(_,1)[0],F=(0,Pe.useState)(b.length!==v.length),C=(0,ke.Z)(F,2),D=C[0],z=C[1],L=(0,Pe.useCallback)(function(){var e=(0,Re.Z)(P().mark((function e(r){var i,l,o;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.licenses,l=(0,U.Z)(r,["licenses"]),o=(0,je.Z)((0,je.Z)({},l),{},{licenses:JSON.stringify(f?i.filter((function(e){var t=e.blog,n=g.filter((function(e){return e.blog===t})),r=(0,ke.Z)(n,1)[0];return v.indexOf(r)>-1})):void 0)}),e.prev=2,e.next=5,a.update(o);case 5:A.setFieldsValue({terms:!1,telemetry:!1,newsletter:!1}),s.ZP.success(_e("Your license has been activated!")),null==t||t(),e.next=15;break;case 10:throw e.prev=10,e.t0=e.catch(2),a.invalidKeysError||s.ZP.error(e.t0.responseJSON.message),null==n||n(),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),[a,t,g,v,f]),M=(0,Pe.useCallback)(function(){var e=(0,Re.Z)(P().mark((function e(t){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L(t);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:return e.prev=7,c(!1),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[0,5,7,10]])})));return function(t){return e.apply(this,arguments)}}(),[A,L,c]),X=(0,Pe.useCallback)((function(){c(!0),z(!0)}),[]);return React.createElement(Oe.Z,{spinning:u},v.length>0&&React.createElement(React.Fragment,null,React.createElement("p",{className:"description",style:{marginBottom:15}},f?_e("Activate your %s PRO license to receive regular updates and support.",R):Ae(_e("To use all advantages of %s {{strong}}you need a free license{{/strong}}. After license activation you will receive answers to support requests and announcements in your plugin (e.g. also notices for discount actions of the PRO version).",R),{strong:React.createElement("strong",null)})),I&&React.createElement("div",{className:"notice notice-error inline below-h2 notice-alt",style:{margin:"0 0 10px 0"}},React.createElement("p",null,_e("You are using a WordPress mulisite. Due to technical limitations of WordPress core, %s can receive automatic updates in WordPress multisites only if the plugin is enabled network-wide. You can enable the plugin network-wide, but still only license it for specific sites.",R)),React.createElement("p",null,_e("Please enable %s network-wide or take care of regular updates manually! ",R))),React.createElement(p.Z,(0,m.Z)({name:"license-form-".concat(d),id:"license-form-".concat(d),form:A},Qe,{initialValues:T,onFinish:M,onFinishFailed:X,onChange:function(){z(!0)}}),f&&React.createElement(React.Fragment,null,React.createElement(p.Z.List,{name:"licenses"},(function(e){return e.map((function(e,t){var n=A.getFieldValue(["licenses",e.name]).blog,r=g.filter((function(e){return e.blog===n})),a=(0,ke.Z)(r,1)[0];if(-1===v.indexOf(a))return null;var i,l=a.busy,c=a.blogName,u=a.programmatically,d=a.host,h=null==w?void 0:w[n],f=o?{}:h||a.hint,b=!(null==h||!h.debug.errors.LicenseMaxUsagesReached);return"boolean"!=typeof f&&b&&(i=React.createElement("span",null,f.help," ",React.createElement($e,{url:_e("https://devowl.io/knowledge-base/the-limit-of-activated-clients-for-this-license-has-already-been-reached/")}))),React.createElement(Oe.Z,{spinning:l,key:e.key},React.createElement(p.Z.Item,{noStyle:!0,shouldUpdate:function(t,n){return t.licenses[e.key].noUsage!==n.licenses[e.key].noUsage}},(function(n){var r=(0,n.getFieldValue)(["licenses",e.key,"noUsage"]);return React.createElement(p.Z.Item,(0,m.Z)({label:React.createElement("span",null,v.length>1||N?Ae(_e("Installation type and license key for {{strong}}%s{{/strong}}",c),{strong:React.createElement("strong",null)}):_e("Installation type and license key")," ",React.createElement($e,{url:Z})),help:i},f,{required:!0,style:et}),!r&&React.createElement(React.Fragment,null,React.createElement(p.Z.Item,{fieldKey:[e.fieldKey,"code"],name:[e.name,"code"],noStyle:!0,rules:[{pattern:/(^\w{8}-\w{4}-\w{4}-\w{4}-\w{12}$)|(^\w{32}$)/,required:!0,message:_e("Please enter a valid license key!")}]},React.createElement(Ie.Z,{placeholder:u?u.code:"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX",disabled:!!u,addonBefore:React.createElement(p.Z.Item,{fieldKey:[e.fieldKey,"installationType"],name:[e.name,"installationType"],noStyle:!0,rules:[{required:!0,message:_e("Please choose an installation type!")}]},React.createElement(He.Z,{placeholder:_e("Installation type"),disabled:!!u},React.createElement(He.Z.Option,{value:"",disabled:!0},u?"development"===u.type?_e("Development"):_e("Production"):_e("Select installation type…")),React.createElement(He.Z.Option,{value:"production"},_e("Production")),React.createElement(He.Z.Option,{value:"development"},_e("Development"))))})),0===t&&React.createElement("p",{className:"description",style:{marginTop:5}},React.createElement("strong",null,_e("What is an installation type?"))," ",_e("You can use each license in both production and development environments.")," ",Ae(_e('Generally speaking, you use "{{strong}}Development{{/strong}}" when your site is not yet live, or it is a staging environment of your site. "{{strong}}Production{{/strong}}" is what you use once your site is live. You can change the installation-type at any time by deactivating the license and activate it again.'),{strong:React.createElement("strong",null)}))),x&&React.createElement(p.Z.Item,{fieldKey:[e.fieldKey,"noUsage"],name:[e.name,"noUsage"],valuePropName:"checked",style:{marginTop:r?-25:0===t?-8:0,marginBottom:0}},React.createElement(xe.Z,null,_e("I do not want to license and use the plugin for this site within my multisite."))))})),u&&React.createElement("div",{className:"notice notice-warning inline below-h2 notice-alt",style:{margin:"0 0 10px 0"}},React.createElement("p",null,Ae(_e("This license cannot be activated manually because it is configured programmatically. That means you have used the {{a}}activation filter{{/a}} for host {{code}}%s{{/code}} (Blog ID: %d). Unfortunately, there went something wrong while activating the license.",d,n),{code:React.createElement("code",null),a:React.createElement("a",{href:"https://docs.devowl.io/real-cookie-banner/hooks/DevOwl_RealProductManager_License_Programmatic_$slug.html",target:"_blank",rel:"noreferrer"})})," ","•"," ",React.createElement("a",{className:"button-link",onClick:(0,Re.Z)(P().mark((function e(){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.retry();case 3:a.hint&&s.ZP.error(a.hint.help),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),s.ZP.error(e.t0.responseJSON.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))},_e("Retry activation")))),b&&React.createElement("a",{href:E,target:"_blank",rel:"noreferrer",className:"button button-primary"},_e("Manage licenses in the customer center")))}))})),React.createElement(Be.Z,{type:"horizontal",style:{margin:"10px 0"}})),y.length>0&&React.createElement(React.Fragment,null,React.createElement("div",{style:{display:D?"block":"none"}},React.createElement(Ge,{pluginUpdate:a})),r))))})),nt=n(771),rt=n(1652),at=n(8875),it=n(4551),lt=(0,Ve.Pi)((function(e){var t=e.onDeactivate,n=e.pluginUpdate,r=n.licensedEntries,a=n.needsLicenseKeys;return React.createElement(React.Fragment,null,React.createElement(nt.ZP,{itemLayout:"vertical",size:"small",dataSource:r,renderItem:function(e){var n=e.busy,r=e.installationType,i=e.blogName,l=e.code,o=e.remote,c=e.programmatically,u=e.host,p=e.blog;return React.createElement(Oe.Z,{spinning:n},React.createElement(nt.ZP.Item,{style:{paddingLeft:0,paddingRight:0},actions:[a&&React.createElement(d.Z,{key:"installationType"},React.createElement(rt.Z,null),"production"===r?_e("Production"):"development"===r?_e("Development"):"n/a"),o&&React.createElement(d.Z,{key:"activatedAt"},React.createElement(at.Z,null),_e("Activated %s",new Date(o.licenseActivation.activatedAt).toLocaleString(document.documentElement.lang))),o&&React.createElement(d.Z,{key:"telemetryDataSharingOptIn"},React.createElement(it.Z,null),o.licenseActivation.telemetryDataSharingOptIn?_e("Telemetry data sharing enabled"):_e("Telemetry data sharing disabled")),!c&&React.createElement("a",{key:"deactivate",className:"button-link",onClick:(0,Re.Z)(P().mark((function n(){return P().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.deactivate();case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),s.ZP.error(n.t0.responseJSON.message);case 8:null==t||t(e);case 9:case"end":return n.stop()}}),n,null,[[0,5]])})))},_e("Deactivate"))].filter(Boolean)},React.createElement(nt.ZP.Item.Meta,{title:i,description:a?React.createElement(React.Fragment,null,_e("Your license key"),": ",React.createElement("code",null,l)):_e("Your installation is fully activated.")}),c&&React.createElement("div",{className:"notice notice-info inline below-h2 notice-alt",style:{margin:"0 0 10px 0"}},React.createElement("p",null,Ae(_e("This license cannot be deactivated manually because it is configured programmatically. That means you have used the {{a}}activation filter{{/a}} for host {{code}}%s{{/code}} (Blog ID: %d). Please remove the filter to deactivate the license!",u,p),{code:React.createElement("code",null),a:React.createElement("a",{href:"https://docs.devowl.io/real-cookie-banner/hooks/DevOwl_RealProductManager_License_Programmatic_$slug.html",target:"_blank",rel:"noreferrer"})})))))}}),React.createElement("p",{style:{textAlign:"right"}},React.createElement(xe.Z,{disabled:n.busy,checked:n.announcementsActive,onChange:function(e){return n.setAnnouncementActive(e.target.checked)}},_e("Show announcements for this plugin"))))})),ot=(0,Ve.Pi)((function(){var e=(0,Pe.useState)(!1),t=(0,ke.Z)(e,2),n=t[0],r=t[1],a=Ee().pluginUpdateStore,i=a.busy,l=a.modalPlugin,o=a.pluginUpdates,s=l?o.get(l):void 0,c=(null==s?void 0:s.unlicensedEntries.length)>0&&(null==s?void 0:s.licensedEntries.length)>0,u=(0,Pe.useCallback)((function(){if(n){var e=s.checkUpdateLink;e?window.location.href=e:window.location.reload()}else a.hideModal()}),[n,a,s]),p=(0,Pe.useCallback)((function(){return r(!0)}),[r]);return(0,Pe.useEffect)((function(){document.body.classList[l?"add":"remove"]("rpm-wpc-antd-modal-open")}),[l]),l?React.createElement(Ue.Z,{visible:!0,okButtonProps:{form:"license-form-".concat(null==s?void 0:s.slug),htmlType:"submit",style:{display:0===(null==s?void 0:s.unlicensedEntries.length)?"none":void 0}},cancelButtonProps:{style:{display:"none"}},onCancel:u,okText:_e("Save"),title:s?React.createElement("span",{style:{fontWeight:"normal"}},React.createElement("strong",null,s.name,":")," ",_e("License settings")):"",width:800},i||!s?React.createElement(Oe.Z,{spinning:!0}):React.createElement("div",null,c&&React.createElement(Be.Z,{type:"horizontal",orientation:"left",style:{marginTop:0}},_e("Not yet licensed")),React.createElement(tt,{onSave:p,pluginUpdate:s}),c&&React.createElement(Be.Z,{type:"horizontal",orientation:"left"},_e("Already licensed")),s.licensedEntries.length>0&&React.createElement(lt,{onDeactivate:p,pluginUpdate:s}))):null})),st=(0,Ve.Pi)((function(e){var t=e.formProps,n=void 0===t?{}:t,r=e.listProps,a=void 0===r?{}:r,i=e.slug,l=Ee().pluginUpdateStore,o=l.busy,s=l.pluginUpdates.get(i),c=(null==s?void 0:s.unlicensedEntries.length)>0&&(null==s?void 0:s.licensedEntries.length)>0;return(0,Pe.useEffect)((function(){l.fetchPluginUpdate(i)}),[i]),o||!s?React.createElement(Oe.Z,{spinning:!0}):React.createElement("div",null,c&&React.createElement(Be.Z,{type:"horizontal",orientation:"left",style:{marginTop:0}},_e("Not yet licensed")),React.createElement(tt,(0,m.Z)({},n,{pluginUpdate:s})),c&&React.createElement(Be.Z,{type:"horizontal",orientation:"left"},_e("Already licensed")),s.licensedEntries.length>0&&React.createElement(lt,(0,m.Z)({},a,{pluginUpdate:s})))}));o.ZP.config({prefixCls:"rpm-wpc-antd"}),s.ZP.config({top:50}),Me(),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"complete";new Promise((function(n){document.readyState===t?(null==e||e(),n()):document.addEventListener("readystatechange",(function(){document.readyState===t&&(null==e||e(),n())}))}))}((function(){var e=document.createElement("div");document.body.appendChild(e),(0,l.render)(React.createElement(Ze,null,React.createElement(ot,null)),e),Ke(),We()}))},7363:function(e){e.exports=React},1533:function(e){e.exports=ReactDOM},7821:function(e){e.exports=mobx}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var i=n[e]={id:e,loaded:!1,exports:{}};return t[e](i,i.exports,r),i.loaded=!0,i.exports}r.m=t,e=[],r.O=function(t,n,a,i){if(!n){var l=1/0;for(u=0;u<e.length;u++){n=e[u][0],a=e[u][1],i=e[u][2];for(var o=!0,s=0;s<n.length;s++)(!1&i||l>=i)&&Object.keys(r.O).every((function(e){return r.O[e](n[s])}))?n.splice(s--,1):(o=!1,i<l&&(l=i));if(o){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,a,i]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e={826:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,i,l=n[0],o=n[1],s=n[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(a in o)r.o(o,a)&&(r.m[a]=o[a]);if(s)var u=s(r)}for(t&&t(n);c<l.length;c++)i=l[c],r.o(e,i)&&e[i]&&e[i][0](),e[l[c]]=0;return r.O(u)},n=self.webpackChunkdevowlWp_realProductManagerWpClient=self.webpackChunkdevowlWp_realProductManagerWpClient||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var a=r.O(void 0,[764],(function(){return r(3627)}));a=r.O(a),devowlWp_realProductManagerWpClient=a}();
//# sourceMappingURL=index.js.map